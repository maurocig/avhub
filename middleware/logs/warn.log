{"level":50,"time":1674260771328,"pid":42241,"hostname":"Mauros-MBP.fibertel.com.ar","msg":"Error signing user up..."}
{"level":50,"time":1674260771328,"pid":42241,"hostname":"Mauros-MBP.fibertel.com.ar","err":{"type":"ReferenceError","message":"user is not defined","stack":"ReferenceError: user is not defined\n    at Strategy._verify (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/middleware/passport.js:43:27)\n    at Strategy.authenticate (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/passport-local/lib/strategy.js:88:12)\n    at attempt (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/passport/lib/middleware/authenticate.js:369:16)\n    at authenticate (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/passport/lib/middleware/authenticate.js:370:7)\n    at Layer.handle [as handle_request] (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/express/lib/router/route.js:144:13)\n    at done (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/multer/lib/make-middleware.js:45:7)\n    at indicateDone (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/multer/lib/make-middleware.js:49:68)\n    at /Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/multer/lib/make-middleware.js:155:11\n    at WriteStream.<anonymous> (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/multer/storage/disk.js:43:9)"},"msg":"user is not defined"}
{"level":50,"time":1674260846678,"pid":42294,"hostname":"Mauros-MBP.fibertel.com.ar","msg":"Error signing user up..."}
{"level":50,"time":1674260846678,"pid":42294,"hostname":"Mauros-MBP.fibertel.com.ar","err":{"type":"TypeError","message":"Cannot read properties of undefined (reading 'BAD_REQUEST')","stack":"TypeError: Cannot read properties of undefined (reading 'BAD_REQUEST')\n    at UsersDao.createUser (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/models/daos/users/users.mongo.dao.js:22:51)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Strategy._verify (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/middleware/passport.js:40:22)"},"msg":"Cannot read properties of undefined (reading 'BAD_REQUEST')"}
{"level":50,"time":1674308170271,"pid":48935,"hostname":"Mauros-MBP.fibertel.com.ar","msg":"Error signing user up..."}
{"level":50,"time":1674308170271,"pid":48935,"hostname":"Mauros-MBP.fibertel.com.ar","err":{"type":"ReferenceError","message":"Cannot access 'cart' before initialization","stack":"ReferenceError: Cannot access 'cart' before initialization\n    at Strategy._verify (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/middleware/passport.js:38:11)\n    at Strategy.authenticate (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/passport-local/lib/strategy.js:88:12)\n    at attempt (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/passport/lib/middleware/authenticate.js:369:16)\n    at authenticate (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/passport/lib/middleware/authenticate.js:370:7)\n    at Layer.handle [as handle_request] (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/express/lib/router/route.js:144:13)\n    at done (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/multer/lib/make-middleware.js:45:7)\n    at indicateDone (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/multer/lib/make-middleware.js:49:68)\n    at /Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/multer/lib/make-middleware.js:155:11\n    at WriteStream.<anonymous> (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/multer/storage/disk.js:43:9)"},"msg":"Cannot access 'cart' before initialization"}
{"level":40,"time":1674443123459,"pid":78742,"hostname":"Mauros-MBP.fibertel.com.ar","msg":"Invalid user or password"}
{"level":40,"time":1674475888683,"pid":80753,"hostname":"Mauros-MBP.fibertel.com.ar","msg":"This item is already in your cart."}
{"level":40,"time":1674476062959,"pid":80846,"hostname":"Mauros-MBP.fibertel.com.ar","msg":"This item is already in your cart."}
{"level":40,"time":1674476149601,"pid":80905,"hostname":"Mauros-MBP.fibertel.com.ar","msg":"This item is already in your cart."}
{"level":40,"time":1674476541307,"pid":80905,"hostname":"Mauros-MBP.fibertel.com.ar","msg":"This item is already in your cart."}
{"level":50,"time":1674490455883,"pid":87569,"hostname":"Mauros-MBP.fibertel.com.ar","msg":"Error signing user up..."}
{"level":50,"time":1674490455883,"pid":87569,"hostname":"Mauros-MBP.fibertel.com.ar","err":{"type":"TypeError","message":"Cannot read properties of undefined (reading 'BAD_REQUEST')","stack":"TypeError: Cannot read properties of undefined (reading 'BAD_REQUEST')\n    at UsersDao.createUser (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/models/daos/users/users.mongo.dao.js:22:51)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Strategy._verify (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/middleware/passport.js:48:22)"},"msg":"Cannot read properties of undefined (reading 'BAD_REQUEST')"}
{"level":50,"time":1674490469489,"pid":87569,"hostname":"Mauros-MBP.fibertel.com.ar","msg":"Error signing user up..."}
{"level":50,"time":1674490469489,"pid":87569,"hostname":"Mauros-MBP.fibertel.com.ar","err":{"type":"TypeError","message":"Cannot read properties of undefined (reading 'BAD_REQUEST')","stack":"TypeError: Cannot read properties of undefined (reading 'BAD_REQUEST')\n    at UsersDao.createUser (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/models/daos/users/users.mongo.dao.js:22:51)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Strategy._verify (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/middleware/passport.js:48:22)"},"msg":"Cannot read properties of undefined (reading 'BAD_REQUEST')"}
{"level":50,"time":1674602622552,"pid":24800,"hostname":"Mauros-MBP.fibertel.com.ar","err":{"type":"TypeError","message":"sendCheckoutWhatsapp is not a function","stack":"TypeError: sendCheckoutWhatsapp is not a function\n    at /Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/routers/app.routers.js:84:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"},"msg":"sendCheckoutWhatsapp is not a function"}
{"level":50,"time":1674602732633,"pid":24898,"hostname":"Mauros-MBP.fibertel.com.ar","err":{"type":"TypeError","message":"sendCheckoutWhatsapp is not a function","stack":"TypeError: sendCheckoutWhatsapp is not a function\n    at /Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/routers/app.routers.js:84:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"},"msg":"sendCheckoutWhatsapp is not a function"}
{"level":50,"time":1674650900735,"pid":35136,"hostname":"Mauros-MBP.fibertel.com.ar","statusCode":500,"message":"Wrong username or password","details":{"statusCode":404,"message":"Wrong username or password"}}
{"level":50,"time":1674659817580,"pid":41266,"hostname":"Mauros-MBP.fibertel.com.ar","err":{"type":"ReferenceError","message":"TWILIO_PHONE_NUMBER is not defined","stack":"ReferenceError: TWILIO_PHONE_NUMBER is not defined\n    at sendCheckoutSMS (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/middleware/twilio/checkoutNotification.js:24:13)\n    at /Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/routers/app.routers.js:90:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"},"msg":"TWILIO_PHONE_NUMBER is not defined"}
{"level":50,"time":1674659882218,"pid":41367,"hostname":"Mauros-MBP.fibertel.com.ar","err":{"type":"RestException","message":"The 'To' number 59897467535 is not a valid phone number.","stack":"Error: The 'To' number 59897467535 is not a valid phone number.\n    at success (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/twilio/lib/base/Version.js:135:15)\n    at Promise_then_fulfilled (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/q/q.js:766:44)\n    at Promise_done_fulfilled (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/q/q.js:835:31)\n    at Fulfilled.Fulfilled_dispatch [as dispatch] (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/q/q.js:1229:9)\n    at Pending_become_eachMessage_task (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/q/q.js:1369:30)\n    at RawTask.call (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/asap/asap.js:40:19)\n    at flush (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/asap/raw.js:50:29)\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","status":400,"code":21211,"moreInfo":"https://www.twilio.com/docs/errors/21211"},"msg":"The 'To' number 59897467535 is not a valid phone number."}
{"level":40,"time":1675029005907,"pid":74835,"hostname":"Mauros-MacBook-Pro.local","msg":"Invalid user or password"}
{"level":40,"time":1675029135201,"pid":74835,"hostname":"Mauros-MacBook-Pro.local","msg":"Invalid user or password"}
{"level":40,"time":1675030282286,"pid":75166,"hostname":"Mauros-MacBook-Pro.local","msg":"Invalid user or password"}
{"level":50,"time":1675030335857,"pid":75166,"hostname":"Mauros-MacBook-Pro.local","msg":"Error signing user up..."}
{"level":50,"time":1675030335857,"pid":75166,"hostname":"Mauros-MacBook-Pro.local","statusCode":500,"message":"Users validation failed: updatedAt: Path `updatedAt` is required., createdAt: Path `createdAt` is required.","details":{"errors":{"updatedAt":{"name":"ValidatorError","message":"Path `updatedAt` is required.","properties":{"message":"Path `updatedAt` is required.","type":"required","path":"updatedAt"},"kind":"required","path":"updatedAt"},"createdAt":{"name":"ValidatorError","message":"Path `createdAt` is required.","properties":{"message":"Path `createdAt` is required.","type":"required","path":"createdAt"},"kind":"required","path":"createdAt"}},"_message":"Users validation failed","name":"ValidationError","message":"Users validation failed: updatedAt: Path `updatedAt` is required., createdAt: Path `createdAt` is required."}}
{"level":50,"time":1675032480905,"pid":75841,"hostname":"Mauros-MacBook-Pro.local","msg":"Error signing user up..."}
{"level":50,"time":1675032480905,"pid":75841,"hostname":"Mauros-MacBook-Pro.local","err":{"type":"ReferenceError","message":"formattedUser is not defined","stack":"ReferenceError: formattedUser is not defined\n    at Strategy._verify (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/middleware/passport.js:52:46)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"},"msg":"formattedUser is not defined"}
{"level":50,"time":1675033233294,"pid":76094,"hostname":"Mauros-MacBook-Pro.local","msg":"Error signing user up..."}
{"level":50,"time":1675033233294,"pid":76094,"hostname":"Mauros-MacBook-Pro.local","statusCode":400,"message":"User with given email already exist"}
{"level":50,"time":1675033253602,"pid":76094,"hostname":"Mauros-MacBook-Pro.local","msg":"Error signing user up..."}
{"level":50,"time":1675033253602,"pid":76094,"hostname":"Mauros-MacBook-Pro.local","err":{"type":"ReferenceError","message":"user is not defined","stack":"ReferenceError: user is not defined\n    at Strategy._verify (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/middleware/passport.js:54:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"},"msg":"user is not defined"}
{"level":50,"time":1675033395595,"pid":76208,"hostname":"Mauros-MacBook-Pro.local","msg":"Error signing user up..."}
{"level":50,"time":1675033395595,"pid":76208,"hostname":"Mauros-MacBook-Pro.local","statusCode":400,"message":"User with given email already exist"}
{"level":50,"time":1675357095134,"pid":92657,"hostname":"Mauros-MacBook-Pro.local","msg":"Error signing user up..."}
{"level":50,"time":1675357095134,"pid":92657,"hostname":"Mauros-MacBook-Pro.local","err":{"type":"ReferenceError","message":"userItem is not defined","stack":"ReferenceError: userItem is not defined\n    at Strategy._verify (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/middleware/passport.js:42:47)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"},"msg":"userItem is not defined"}
{"level":50,"time":1675516146061,"pid":1500,"hostname":"Mauros-MacBook-Pro.local","statusCode":500,"message":"Wrong username or password","details":{"statusCode":404,"message":"Wrong username or password"}}
{"level":50,"time":1675516152764,"pid":1500,"hostname":"Mauros-MacBook-Pro.local","statusCode":500,"message":"Wrong username or password","details":{"statusCode":404,"message":"Wrong username or password"}}
{"level":50,"time":1675516161728,"pid":1500,"hostname":"Mauros-MacBook-Pro.local","statusCode":500,"message":"Wrong username or password","details":{"statusCode":404,"message":"Wrong username or password"}}
{"level":50,"time":1675516172777,"pid":1500,"hostname":"Mauros-MacBook-Pro.local","statusCode":500,"message":"Wrong username or password","details":{"statusCode":404,"message":"Wrong username or password"}}
{"level":50,"time":1675516179587,"pid":1500,"hostname":"Mauros-MacBook-Pro.local","statusCode":500,"message":"Wrong username or password","details":{"statusCode":404,"message":"Wrong username or password"}}
{"level":50,"time":1675516191045,"pid":1500,"hostname":"Mauros-MacBook-Pro.local","statusCode":500,"message":"Wrong username or password","details":{"statusCode":404,"message":"Wrong username or password"}}
{"level":50,"time":1675516205841,"pid":1500,"hostname":"Mauros-MacBook-Pro.local","statusCode":500,"message":"Wrong username or password","details":{"statusCode":404,"message":"Wrong username or password"}}
{"level":50,"time":1675516259009,"pid":1500,"hostname":"Mauros-MacBook-Pro.local","statusCode":500,"message":"Wrong username or password","details":{"statusCode":404,"message":"Wrong username or password"}}
{"level":50,"time":1675516268854,"pid":1500,"hostname":"Mauros-MacBook-Pro.local","statusCode":500,"message":"Wrong username or password","details":{"statusCode":404,"message":"Wrong username or password"}}
{"level":50,"time":1675516275038,"pid":1500,"hostname":"Mauros-MacBook-Pro.local","statusCode":500,"message":"Wrong username or password","details":{"statusCode":404,"message":"Wrong username or password"}}
{"level":50,"time":1675516355067,"pid":1500,"hostname":"Mauros-MacBook-Pro.local","statusCode":500,"message":"Wrong username or password","details":{"statusCode":404,"message":"Wrong username or password"}}
{"level":50,"time":1675519721439,"pid":2856,"hostname":"Mauros-MacBook-Pro.local","msg":"Error signing user up..."}
{"level":50,"time":1675519721439,"pid":2856,"hostname":"Mauros-MacBook-Pro.local","err":{"type":"ValidationError","message":"Users validation failed: phone: Cast to Number failed for value \"77 77 77\" (type string) at path \"phone\"","stack":"ValidationError: Users validation failed: phone: Cast to Number failed for value \"77 77 77\" (type string) at path \"phone\"\n    at Document.invalidate (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/mongoose/lib/document.js:3097:32)\n    at model.$set (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/mongoose/lib/document.js:1452:12)\n    at model.$set (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/mongoose/lib/document.js:1135:16)\n    at model.Document (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/mongoose/lib/document.js:166:12)\n    at model.Model (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/mongoose/lib/model.js:121:12)\n    at new model (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/mongoose/lib/model.js:5036:15)\n    at UsersDao.save (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/models/containers/mongo.container.js:35:25)\n    at UsersServices.create (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/services/users.service.js:7:23)\n    at Strategy._verify (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/middleware/passport.js:45:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","errors":{"phone":{"stringValue":"\"77 77 77\"","valueType":"string","kind":"Number","value":"77 77 77","path":"phone","reason":{"generatedMessage":true,"code":"ERR_ASSERTION","actual":false,"expected":true,"operator":"=="},"name":"CastError","message":"Cast to Number failed for value \"77 77 77\" (type string) at path \"phone\""}},"_message":"Users validation failed"},"msg":"Users validation failed: phone: Cast to Number failed for value \"77 77 77\" (type string) at path \"phone\""}
{"level":50,"time":1675521005867,"pid":3825,"hostname":"Mauros-MacBook-Pro.local","err":{"type":"RangeError","message":"Invalid status code: undefined","stack":"RangeError [ERR_HTTP_INVALID_STATUS_CODE]: Invalid status code: undefined\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.writeHead (node:_http_server:343:11)\n    at ServerResponse.writeHead (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/on-headers/index.js:44:26)\n    at ServerResponse._implicitHeader (node:_http_server:334:8)\n    at write_ (node:_http_outgoing:867:9)\n    at ServerResponse.end (node:_http_outgoing:977:5)\n    at ServerResponse.end (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/express-session/index.js:359:19)\n    at ServerResponse.send (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/express/lib/response.js:232:10)\n    at ServerResponse.json (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/express/lib/response.js:278:15)\n    at create (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/controllers/products.controller.js:19:39)","code":"ERR_HTTP_INVALID_STATUS_CODE"},"msg":"Invalid status code: undefined"}
{"level":50,"time":1675527012594,"pid":8837,"hostname":"Mauros-MacBook-Pro.local","err":{"type":"RestException","message":"The 'To' number +9238472983 is not a valid phone number.","stack":"Error: The 'To' number +9238472983 is not a valid phone number.\n    at success (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/twilio/lib/base/Version.js:135:15)\n    at Promise_then_fulfilled (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/q/q.js:766:44)\n    at Promise_done_fulfilled (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/q/q.js:835:31)\n    at Fulfilled.Fulfilled_dispatch [as dispatch] (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/q/q.js:1229:9)\n    at Pending_become_eachMessage_task (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/q/q.js:1369:30)\n    at RawTask.call (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/asap/asap.js:40:19)\n    at flush (/Users/maurocigliuti1/OneDrive/CODE/Coderhouse/back-end/p-final/avhub/node_modules/asap/raw.js:50:29)\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","status":400,"code":21211,"moreInfo":"https://www.twilio.com/docs/errors/21211"},"msg":"The 'To' number +9238472983 is not a valid phone number."}
